<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>client/spa/partial/view-patient/history-report.jsx - Documentation</title>

    <script src="scripts/hljs/highlight.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/hljs.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AdmitPatient.html">AdmitPatient</a><ul class='methods'><li data-type='method'><a href="AdmitPatient.html#admit">admit</a></li><li data-type='method'><a href="AdmitPatient.html#componentDidMount">componentDidMount</a></li><li data-type='method'><a href="AdmitPatient.html#getImg">getImg</a></li><li data-type='method'><a href="AdmitPatient.html#render">render</a></li><li data-type='method'><a href="AdmitPatient.html#setImg">setImg</a></li></ul></li><li><a href="App.html">App</a><ul class='methods'><li data-type='method'><a href="App.html#componentDidMount">componentDidMount</a></li><li data-type='method'><a href="App.html#onChange">onChange</a></li><li data-type='method'><a href="App.html#render">render</a></li></ul></li><li><a href="global.html#Contact">Contact</a><ul class='methods'><li data-type='method'><a href="global.html#Contact#insert">insert</a></li><li data-type='method'><a href="global.html#Contact#populate">populate</a></li></ul></li><li><a href="CreateWard.html">CreateWard</a><ul class='methods'><li data-type='method'><a href="CreateWard.html#.validateForms">validateForms</a></li><li data-type='method'><a href="CreateWard.html#componentDidMount">componentDidMount</a></li><li data-type='method'><a href="CreateWard.html#makeWard">makeWard</a></li><li data-type='method'><a href="CreateWard.html#render">render</a></li></ul></li><li><a href="DiagnosticReport.html">DiagnosticReport</a><ul class='methods'><li data-type='method'><a href="DiagnosticReport.html#fhir">fhir</a></li><li data-type='method'><a href="DiagnosticReport.html#fhirLinked">fhirLinked</a></li></ul></li><li><a href="Encounter.html">Encounter</a><ul class='methods'><li data-type='method'><a href="Encounter.html#delete">delete</a></li><li data-type='method'><a href="Encounter.html#fhir">fhir</a></li><li data-type='method'><a href="Encounter.html#insert">insert</a></li><li data-type='method'><a href="Encounter.html#populate">populate</a></li><li data-type='method'><a href="Encounter.html#update">update</a></li></ul></li><li><a href="Location.html">Location</a><ul class='methods'><li data-type='method'><a href="Location.html#.lookup">lookup</a></li><li data-type='method'><a href="Location.html#fhir">fhir</a></li><li data-type='method'><a href="Location.html#populate">populate</a></li></ul></li><li><a href="module.exports.html">exports</a></li><li><a href="NEWSError.html">NEWSError</a></li><li><a href="Observation.html">Observation</a><ul class='methods'><li data-type='method'><a href="Observation.html#fhir">fhir</a></li></ul></li><li><a href="OperationOutcome.html">OperationOutcome</a><ul class='methods'><li data-type='method'><a href="OperationOutcome.html#makeResponse">makeResponse</a></li></ul></li><li><a href="Patient.html">Patient</a><ul class='methods'><li data-type='method'><a href="Patient.html#componentDidMount">componentDidMount</a></li><li data-type='method'><a href="Patient.html#delete">delete</a></li><li data-type='method'><a href="Patient.html#delete">delete</a></li><li data-type='method'><a href="Patient.html#fhir">fhir</a></li><li data-type='method'><a href="Patient.html#insert">insert</a></li><li data-type='method'><a href="Patient.html#populate">populate</a></li><li data-type='method'><a href="Patient.html#popupAE">popupAE</a></li><li data-type='method'><a href="Patient.html#popupHistory">popupHistory</a></li><li data-type='method'><a href="Patient.html#popupWarningScoreHistory">popupWarningScoreHistory</a></li><li data-type='method'><a href="Patient.html#render">render</a></li><li data-type='method'><a href="Patient.html#submitVitals">submitVitals</a></li><li data-type='method'><a href="Patient.html#update">update</a></li></ul></li><li><a href="Questionnaire.html">Questionnaire</a><ul class='methods'><li data-type='method'><a href="Questionnaire.html#toggleQuestionnaire">toggleQuestionnaire</a></li></ul></li><li><a href="Redirect.html">Redirect</a><ul class='methods'><li data-type='method'><a href="Redirect.html#componentWillMount">componentWillMount</a></li><li data-type='method'><a href="Redirect.html#render">render</a></li></ul></li><li><a href="SearchPatient.html">SearchPatient</a><ul class='methods'><li data-type='method'><a href="SearchPatient.html#componentWillUnmount">componentWillUnmount</a></li><li data-type='method'><a href="SearchPatient.html#render">render</a></li><li data-type='method'><a href="SearchPatient.html#renderPatients">renderPatients</a></li><li data-type='method'><a href="SearchPatient.html#search">search</a></li></ul></li><li><a href="Ward.html">Ward</a><ul class='methods'><li data-type='method'><a href="Ward.html#componentDidMount">componentDidMount</a></li><li data-type='method'><a href="Ward.html#render">render</a></li><li data-type='method'><a href="Ward.html#renderPatients">renderPatients</a></li></ul></li><li><a href="WardList.html">WardList</a><ul class='methods'><li data-type='method'><a href="WardList.html#componentDidMount">componentDidMount</a></li><li data-type='method'><a href="WardList.html#createWardList">createWardList</a></li><li data-type='method'><a href="WardList.html#render">render</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#AlcoholQuestionnaire">AlcoholQuestionnaire</a></li><li><a href="global.html#Breadcrumbs">Breadcrumbs</a></li><li><a href="global.html#calculate">calculate</a></li><li><a href="global.html#checkPass">checkPass</a></li><li><a href="global.html#createOutcome">createOutcome</a></li><li><a href="global.html#DecButton">DecButton</a></li><li><a href="global.html#decodeJWTPayload">decodeJWTPayload</a></li><li><a href="global.html#Diet">Diet</a></li><li><a href="global.html#dispatchMouseUp">dispatchMouseUp</a></li><li><a href="global.html#doModal">doModal</a></li><li><a href="global.html#DrugTable">DrugTable</a></li><li><a href="global.html#emulateTouch">emulateTouch</a></li><li><a href="global.html#Exercise">Exercise</a></li><li><a href="global.html#fhirBase">fhirBase</a></li><li><a href="global.html#formatDate">formatDate</a></li><li><a href="global.html#getCurrentUrl">getCurrentUrl</a></li><li><a href="global.html#getDate">getDate</a></li><li><a href="global.html#getGiven">getGiven</a></li><li><a href="global.html#getJwtPayload">getJwtPayload</a></li><li><a href="global.html#getPatientReport">getPatientReport</a></li><li><a href="global.html#getStyle">getStyle</a></li><li><a href="global.html#handleUser">handleUser</a></li><li><a href="global.html#HistoryReport">HistoryReport</a></li><li><a href="global.html#IncButton">IncButton</a></li><li><a href="global.html#Input">Input</a></li><li><a href="global.html#lengthPolicy">lengthPolicy</a></li><li><a href="global.html#Loader">Loader</a></li><li><a href="global.html#Modal">Modal</a></li><li><a href="global.html#noop">noop</a></li><li><a href="global.html#normalisePatientInfo">normalisePatientInfo</a></li><li><a href="global.html#normalisePatientReports">normalisePatientReports</a></li><li><a href="global.html#OtherQuestions">OtherQuestions</a></li><li><a href="global.html#PatientDemographicInfo">PatientDemographicInfo</a></li><li><a href="global.html#score">score</a></li><li><a href="global.html#scoreBP">scoreBP</a></li><li><a href="global.html#scoreCons">scoreCons</a></li><li><a href="global.html#scoreHeart">scoreHeart</a></li><li><a href="global.html#scoreOxy">scoreOxy</a></li><li><a href="global.html#scoreResp">scoreResp</a></li><li><a href="global.html#scoreSuppOxy">scoreSuppOxy</a></li><li><a href="global.html#scoreTemp">scoreTemp</a></li><li><a href="global.html#Select">Select</a></li><li><a href="global.html#showLogin">showLogin</a></li><li><a href="global.html#SignOff">SignOff</a></li><li><a href="global.html#toTitle">toTitle</a></li><li><a href="global.html#Welcome">Welcome</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">client/spa/partial/view-patient/history-report.jsx</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import {h} from 'preact'
import format from 'date-fns/format'

import '../../styles/history-report.scss'

/**
 * format date as MM DD, YYYY
 * 12 08, 1995
 * @param {string} date date to format
 */
const formatDate = date => format(new Date(date), ' MMM DD, YYYY')

/**
 * format a drug table
 * @param {preact.ComponentProps} props component props
 * @param {any[]} props.drugs drug list
 */
const DrugTable = props => (
	&lt;table>
		&lt;thead>
			&lt;tr>
				&lt;th>Name&lt;/th>
				&lt;th>Dose&lt;/th>
				&lt;th>Frequency&lt;/th>
			&lt;/tr>
		&lt;/thead>
		&lt;tbody>
			{props.drugs.map(drug => (
				&lt;tr>
					&lt;td>{drug.medication_name}&lt;/td>
					&lt;td>{drug.medication_dose}&lt;/td>
					&lt;td>{drug.medication_frequency}&lt;/td>
				&lt;/tr>
			))}
		&lt;/tbody>
	&lt;/table>
)

/**
 *
 * @param {preact.ComponentProps} props
 * @returns {preact.VNode}
 */
const HistoryReport = (props) => {
	if (!props.reportLoaded) {
		return (
			&lt;div id="modal1" className="modal history-report-modal">
				&lt;div className="modal-content" />
			&lt;/div>
		)
	}

	console.log(props)
	const prescriptionDrugs = props.drugs.prescriptions[0].filter(drug => drug.medication_name)
	const otcDrugs = props.drugs.otc[0].filter(drug => drug.medication_name)
	const recreationalDrugs = (props.drugs.recreational[0] || []).filter(drug => drug.medication_name)
	// console.log({otcDrugs, recreationalDrugs, prescriptionDrugs})
	console.log(otcDrugs)
	return (
		&lt;div id="modal1" className="modal history-report-modal">
			&lt;div className="modal-content">
				&lt;h3>History: {props.patientName}&lt;/h3>
				&lt;div className="divider" />
				&lt;section>
					&lt;h4>Personal Health History&lt;/h4>
					&lt;p>&lt;b>Childhood illnesses:&lt;/b>&lt;/p>
					&lt;ul className="browser-default">
						{(props.childhood_illnesses || []).map(illness => (&lt;li>{illness}&lt;/li>))}
					&lt;/ul>
					&lt;p>&lt;b>Immunisations:&lt;/b>&lt;/p>
					&lt;ul className="browser-default">
						{(props.immunisations || []).map(immun => (&lt;li>{immun}&lt;/li>))}
					&lt;/ul>
					&lt;p>&lt;b>Medical Problems:&lt;/b>&lt;/p>
					&lt;ul className="browser-default">
						{(props.medical_issues || []).map(immun => (&lt;li>{immun}&lt;/li>))}
					&lt;/ul>
					&lt;p>&lt;b>Surgical Operations:&lt;/b>&lt;/p>
					&lt;ul className="browser-default">
						{(props.surgical_operations || []).map(immun => (&lt;li>{immun}&lt;/li>))}
					&lt;/ul>
					&lt;p>&lt;b>Other Hospitalisations:&lt;/b>&lt;/p>
					&lt;ul className="browser-default">
						{(props.other_hospitalisations || []).map(immun => (
							&lt;li>{immun}&lt;/li>
						))}
					&lt;/ul>
				&lt;/section>
				&lt;div className="divider" />
				&lt;section>
					&lt;h4>Medication&lt;/h4>
					&lt;p>&lt;b>Prescribed Medication: &lt;/b>&lt;/p>
					{prescriptionDrugs.length ? &lt;DrugTable drugs={prescriptionDrugs} /> : ''}
					&lt;p>&lt;b>OTC Medication: &lt;/b>&lt;/p>
					{otcDrugs.length ? &lt;DrugTable drugs={otcDrugs} /> : ''}
					&lt;p>&lt;b>Allergies: &lt;/b>{props.medication_allergies}&lt;/p>
					&lt;div className="divider" />
					&lt;h4>Health Habits and Personal Safety&lt;/h4>
				&lt;/section>
				&lt;section>
					&lt;h5>Exercise&lt;/h5>
					&lt;p>&lt;b>Frequency: &lt;/b>{props.exercise_frequency}&lt;/p>
				&lt;/section>
				&lt;section>
					&lt;h5>Diet&lt;/h5>
					&lt;p>&lt;b>Dieting: &lt;/b>{props.dieting ? 'yes' : 'no'}&lt;/p>
					&lt;p>&lt;b>Meals eaten daily: &lt;/b>{props.meals_daily}&lt;/p>
					&lt;p>&lt;b>Difficulty Eating: &lt;/b>{props.difficulties_eating ? 'yes' : 'no'}&lt;/p>
				&lt;/section>
				&lt;section>
					&lt;h5>Alcohol&lt;/h5>
					&lt;p>&lt;b>Drinks alcohol: &lt;/b>{props.drink_alcohol ? 'yes' : 'no'}&lt;/p>
					{props.drink_alcohol
						? (
							&lt;div>
								&lt;p>&lt;b>Kind of alcohol: &lt;/b>{props.health_habits_alcohol_type === '' ? 'Not Specified' : props.health_habits_alcohol_type}&lt;/p>
								&lt;p>&lt;b>Drinks per week: &lt;/b>{props.health_habits_alcohol_num}&lt;/p>
								&lt;p>&lt;b>Concerned about alcohol intake: &lt;/b>{props.health_habits_drink_alcohol_concern}&lt;/p>
								&lt;p>&lt;b>Considered stopping: &lt;/b>{props.health_habits_drink_alcohol_consider_stopping}&lt;/p>
							&lt;/div>
						)
						: ''}
				&lt;/section>
				&lt;section>
					&lt;h5>Tobacco&lt;/h5>
					&lt;p>&lt;b>Used tobacco in past 5 years: &lt;/b>{props.tobacco_last_smoked ? 'yes' : 'no'}&lt;/p>
					{props.tobacco_last_smoked
						? (
							&lt;div>
								&lt;p>&lt;b>Currently using Tobacco:&lt;/b>{props.currently_uses_tobacco}&lt;/p>
								&lt;pre>Types of Tobacco used: {props.tobacco_type}&lt;/pre>
								&lt;p>&lt;b>Nicotine replacement therapy in use: &lt;/b>{props.currently_uses_tobacco_repalcement}&lt;/p>
								&lt;p>&lt;b>Nicotine replacement therapy types: &lt;/b>{props.tobacco_replacement_type === '' ? 'Not specified' : props.tobacco_replacement_type}&lt;/p>
							&lt;/div>
						)
						: ''}
				&lt;/section>
				&lt;section>
					&lt;h5>Drugs&lt;/h5>
					&lt;p>&lt;b>Currently using recreational drugs/substances: &lt;/b>{props.uses_recreational_drugs ? 'yes' : 'no'}&lt;/p>
					{props.uses_recreational_drugs ? (
						&lt;div>
							{recreationalDrugs.length ? &lt;DrugTable drugs={recreationalDrugs} /> : ''}
							&lt;p>&lt;b>Ever injecthealth_habits_patient_ever_injected_drugsed recreational drugs with a needle: &lt;/b>{props.used_recreational_with_needle ? 'yes' : 'no'}&lt;/p>
						&lt;/div>
					) : ''}
				&lt;/section>
				&lt;div className="divider" />
				&lt;section>
					&lt;h4>Other Questions&lt;/h4>
					&lt;h5>Mental Health and Wellbeing&lt;/h5>
					&lt;pre>{props.mental_health_history}&lt;/pre>
					&lt;h5>Social History&lt;/h5>
					&lt;pre>{props.social_history}&lt;/pre>
					&lt;h5>Family History&lt;/h5>
					&lt;pre>{props.family_history}&lt;/pre>
					&lt;h5>Other Relevant History&lt;/h5>
					&lt;pre>{props.relevant_history}&lt;/pre>
				&lt;/section>
				&lt;div className="divider" />
				&lt;section>
					&lt;h4>Sign-off&lt;/h4>
					&lt;p>&lt;b>Compiled at: &lt;/b>{formatDate(props.date)}&lt;/p>
					&lt;p>&lt;b>Compiled by: &lt;/b>{props.practitioner.name}&lt;/p>
					&lt;p>&lt;b>Designation: &lt;/b>{props.practitioner_designation}&lt;/p>
					&lt;p>&lt;b>Signature:&lt;/b>&lt;/p>
					&lt;img src={props.signature_blob} alt="Signature" />
				&lt;/section>
			&lt;/div>
		&lt;/div>
	)
}

export default HistoryReport
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Fri Apr 26 2019 15:33:49 GMT+0100 (British Summer Time) using the <a href="https://github.com/contentful/contentful-sdk-jsdoc">contentful-sdk-jsdoc</a> theme.
</footer>

<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
